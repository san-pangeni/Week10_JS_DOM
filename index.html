<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AWS Services Manager</title>
    <link
      rel="stylesheet"
      href="node_modules/bootstrap/dist/css/bootstrap.min.css"
    />
    <style>
      .service-table {
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
      }
      .form-section {
        background: #f8f9fa;
        border-radius: 0.5rem;
      }
      .delete-btn {
        cursor: pointer;
        color: #dc3545;
      }
    </style>
  </head>
  <body class="bg-light">
    <!-- Main Container -->
    <div class="container py-4">
      <!-- Header -->
      <div class="text-center mb-5">
        <h1 class="display-5 fw-bold text-primary">AWS Services Manager</h1>
        <p class="lead">Manage and track AWS cloud services</p>
      </div>

      <!-- Add Service Form -->
      <div class="form-section p-4 mb-5">
        <h3 class="mb-4">Add New Service</h3>
        <form id="serviceForm" class="row g-3">
          <div class="col-12 col-md-4">
            <input
              type="text"
              class="form-control"
              id="serviceName"
              placeholder="Service name"
              required
            />
          </div>
          <div class="col-12 col-md-4">
            <select class="form-select" id="serviceCategory" required>
              <option value="">Select Category</option>
              <option>Compute</option>
              <option>Storage</option>
              <option>Database</option>
              <option>Networking</option>
            </select>
          </div>
          <div class="col-12 col-md-4">
            <input
              type="text"
              class="form-control"
              id="serviceDescription"
              placeholder="Description"
              required
            />
          </div>
          <div class="col-12">
            <button type="submit" class="btn btn-primary w-100">
              Add Service <span class="ms-2 d-none d-md-inline">→</span>
            </button>
          </div>
        </form>
      </div>

      <!-- Services Table -->
      <div class="table-responsive service-table">
        <table class="table table-hover align-middle">
          <thead class="table-primary">
            <tr>
              <th>Service</th>
              <th>Category</th>
              <th>Description</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="servicesList">
            <tr>
              <td>EC2</td>
              <td>Compute</td>
              <td>Scalable virtual servers</td>
              <td>
                <span class="delete-btn" onclick="deleteRow(this)">✕</span>
              </td>
            </tr>
            <tr>
              <td>S3</td>
              <td>Storage</td>
              <td>Object storage service</td>
              <td>
                <span class="delete-btn" onclick="deleteRow(this)">✕</span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Status Toast -->
      <div
        class="toast align-items-center position-fixed bottom-0 end-0 m-3"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
        id="statusToast"
      >
        <div class="d-flex">
          <div class="toast-body"></div>
          <button
            type="button"
            class="btn-close me-2 m-auto"
            data-bs-dismiss="toast"
          ></button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Initialize Bootstrap components
      const toastEl = document.getElementById("statusToast");
      const toast = new bootstrap.Toast(toastEl, { delay: 3000 });

      // Form submission handler
      document.getElementById("serviceForm").addEventListener("submit", (e) => {
        e.preventDefault();

        const serviceName = document.getElementById("serviceName").value;
        const category = document.getElementById("serviceCategory").value;
        const description = document.getElementById("serviceDescription").value;

        const newRow = `
                <tr>
                    <td>${serviceName}</td>
                    <td>${category}</td>
                    <td>${description}</td>
                    <td><span class="delete-btn" onclick="deleteRow(this)">✕</span></td>
                </tr>
            `;

        document
          .getElementById("servicesList")
          .insertAdjacentHTML("beforeend", newRow);
        showToast("Service added successfully!", "success");
        e.target.reset();
      });

      // Delete row function
      function deleteRow(btn) {
        const row = btn.closest("tr");
        row.classList.add("table-danger");
        setTimeout(() => row.remove(), 300);
        showToast("Service removed!", "danger");
      }

      // Toast notification
      function showToast(message, type = "info") {
        const toastBody = toastEl.querySelector(".toast-body");
        toastBody.textContent = message;
        toastEl.classList.add(`bg-${type}-subtle`);
        toast.show();
      }
    </script>
  </body>
</html>
